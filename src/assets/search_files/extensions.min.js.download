function dataURItoBlob(n){for(var i=atob(n.split(",")[1]),u=n.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(i.length),f=new Uint8Array(r),t=0;t<i.length;t++)f[t]=i.charCodeAt(t);return new Blob([r],{type:u})}Object.defineProperty(Object.prototype,"isHtmlElement",{enumerable:!1,configurable:!1,writable:!1,value:function(){return this&&this.tagName?!0:!1}});Object.defineProperty(Object.prototype,"equals",{enumerable:!1,configurable:!1,writable:!1,value:function(n){var i,t;if(/^boolean|string|number|undefined$/.test(typeof n)){var r=function(n){return n===undefined?undefined:n instanceof String||n.constructor&&n.constructor===String?"string":n.constructor&&n.constructor===Number||n instanceof Number||(n.toString()|0)==n?"number":n.toString()==="false"||n.toString()==="true"?"boolean":typeof n},u=r(n),f=r(this);return u===f?this.toString()===n.toString():!1}if(i=Object.keys(this).length==Object.keys(n).length,!i)return i;for(t in this){if(n[t]!==null)switch(typeof this[t]){case"undefined":case"boolean":case"string":case"number":i=this[t]===n[t];break;case"function":i=typeof n[t]=="function"&&this[t].name===n[t].name;break;case"object":i=typeof n[t]=="object"?this[t].equals(n[t]):!1;break;default:i=!1}else i=n[t]===null&&this[t]===null?!0:!1;if(!i)break}return i}});Object.defineProperty(Object.prototype,"extendWith",{enumerable:!1,configurable:!1,writable:!1,value:function(n){if(!(typeof n=="object"||typeof n=="function"))throw new Error(["Type of object parameter is not of type Object or function (constructor)"]);for(var t in n)if(n.hasOwnProperty(t)&&n[t]!==null&&n[t]!==undefined)switch(n[t].constructor){case Number:case String:case Boolean:this[t]=n[t];break;case Date:this[t]=new Date(n[t]);break;case Function:this[t]=n[t];break;default:if(t==="base")break;if(t==="derived")break;this[t]=this[t]?this[t].extendWith(n[t]):(n[t].constructor===Array?[]:{}).extendWith(n[t])}return n.prototype&&this.prototype.extendWith(n.prototype),this}});Function.prototype.method=function(n,t){return this.prototype[n]=t,this};Function.method("inherits",function(n){var i=new n,t,r;return this.prototype=i,t={},r=this.prototype,this.prototype.constructor=n,this.method("uber",function(i){i in t||(t[i]=0);var u,o,e=t[i],f=n.prototype;if(e){while(e)f=f.constructor.prototype,e-=1;u=f[i]}else u=r[i],u==this[i]&&(u=f[i]);return t[i]+=1,o=u.apply(this,Array.prototype.slice.apply(arguments,[1])),t[i]-=1,o}),this.prototype.base=i,this});Object.defineProperty(Object,"hasValue",{enumerable:!1,configurable:!1,writable:!1,value:function(n){if(n===null||n===undefined)return!1;switch(typeof n){case"object":return n.constructor===Date?!0:!1||!!Object.keys(n).length;default:return!1||!!n}}});Object.defineProperty(Array.prototype,"preciseIndexOf",{enumerable:!1,configurable:!1,writable:!1,value:function(n,t){if(n===null||n===undefined)return this.indexOf(n);for(var i=this.length-1>=t||0?t:0,r=this.length;i<r;i++)if(this[i]!==undefined&&this[i]!==null&&this[i].equals(n))return i;return-1}});Object.defineProperty(Array.prototype,"contains",{enumerable:!1,configurable:!1,writable:!1,value:function(n){return this.preciseIndexOf(n)>-1}});Object.defineProperty(Array.prototype,"remove",{enumerable:!1,configurable:!1,writable:!1,value:function(n,t){t!==!1&&(t=!0);for(var i=this.preciseIndexOf(n);i>-1;){if(this.splice(i,1),!t)break;i=this.preciseIndexOf(n)}}});Object.defineProperty(Array.prototype,"first",{enumerable:!1,configurable:!1,writable:!1,value:function(){return this.length?this[0]:undefined}});Object.defineProperty(Array.prototype,"last",{enumerable:!1,configurable:!1,writable:!1,value:function(){return this.length?this[this.length-1]:undefined}});Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,configurable:!1,writable:!1,value:function(n){return this.indexOf(n)===0}});Object.defineProperty(String.prototype,"endsWith",{enumerable:!1,configurable:!1,writable:!1,value:function(n){function t(n){return n.split("").reverse().join("")}return t(this).startsWith(t(n))}});Object.defineProperty(String.prototype,"startsOrEndsWith",{enumerable:!1,configurable:!1,writable:!1,value:function(n){return this.startsWith(n)||this.endsWith(n)}});Object.defineProperty(String.prototype,"capitalizeFirstLetter",{enumerable:!1,configurable:!1,writable:!1,value:function(){return this.charAt(0).toUpperCase()+this.slice(1)}});Object.defineProperty(String.prototype,"decapitalizeFirstLetter",{enumerable:!1,configurable:!1,writable:!1,value:function(){return this.charAt(0).toLowerCase()+this.slice(1)}});Object.defineProperty(String.prototype,"htmlEncode",{enumerable:!1,configurable:!1,writable:!1,value:function(){return document.createElement("a").appendChild(document.createTextNode(this)).parentNode.innerHTML}});Object.defineProperty(String.prototype,"htmlDecode",{enumerable:!1,configurable:!1,writable:!1,value:function(){var n=document.createElement("a");return n.innerHTML=this,n.textContent}});Object.defineProperty(String.prototype,"format",{enumerable:!1,configurable:!1,writable:!1,value:function(){var n=arguments;return this.replace(/{(\d+)}/g,function(t,i){return typeof n[i]!="undefined"?n[i]:t})}});Object.defineProperty(String.prototype,"padStart",{enumerable:!1,configurable:!1,writable:!1,value:function(n,t){return n=n>>0,t=String(t||" "),this.length>n?String(this):(n=n-this.length,n>t.length&&(t+=t.repeat(n/t.length)),t.slice(0,n)+String(this))}});(String.empty===undefined||String.empty===null)&&(String.empty="");HTMLElement.prototype.getValue||(HTMLElement.prototype.getValue=function(){var n=undefined,i,r,u,t;switch(this.tagName.toLowerCase()){case"select":if(this.getAttribute("multiple"))for(n=[],i=0;i<this.options.length;i++)this.options[i].selected&&n.push(this.options[i].value);else t=this.options[this.selectedIndex],n=t.getAttribute("data-value")===""||t.getAttribute("data-value")===!1||t.getAttribute("data-value")?t.getAttribute("data-value"):t.getAttribute("value");break;case"input":switch(this.getAttribute("type").toLowerCase()||this.type.toLowerCase()){case"radio":if(r=this.getAttribute("name"),r){u=this.form.querySelectorAll("input[name='"+r+"']");t=Array.prototype.filter.call(u,function(n){return n.checked&&n.value}).first();n=t.value;break}case"checkbox":n=this.checked;break;case"text":case"email":case"hidden":n=this.value!==null&&this.value!==undefined?(this.value+"").htmlEncode():"";break;case"password":n=this.value}break;case"textarea":n=this.value!==null&&this.value!==undefined?(this.value+"").htmlEncode():""}return this.tagName.toLowerCase()=="input"&&this.getAttribute("type").toLowerCase()=="password"?n:(n&&n.constructor===String&&(n=n.trim()),n instanceof Array)?n:function(){switch(n){case"null":return null;case"undefined":return undefined;case"":return"";case!1:return!1;case!0:return!0;default:return n}}()});HTMLElement.prototype.setValue||(HTMLElement.prototype.setValue=function(n){var t,i,r;if(n===null||n===undefined)throw new Error(["You must pass a value."]);switch(this.tagName.toLowerCase()){case"select":this.getAttribute("multiple")?Array.prototype.forEach.call(this.querySelectorAll("option"),function(t){t.selected=n.indexOf(t.getAttribute("value"))>=0;n.indexOf(t.getAttribute("value"))>=0?t.setAttribute("selected",!0):t.removeAttribute("selected")}):(Array.prototype.forEach.call(this.querySelectorAll("option"),function(n){n.removeAttribute("selected")}),t=this.querySelector("[value='"+n+"']")||this.querySelector("[data-value='"+n+"']"),t&&(t.setAttribute("selected",!0),t.selected=!0));break;case"input":switch(this.getAttribute("type")||this.type){case"radio":i=this.getAttribute("name");i?(r=this.parentElement.querySelectorAll("[name='"+i+"']"),Array.prototype.filter.call(r,function(t){var i=t.getAttribute("value");i!==null&&(i==n||i.toString()===n.toString()&&typeof n!=typeof Object)&&(t.setAttribute("checked",!0),t.checked=!0)})):(this.setAttribute("checked",n),this.checked=n);break;case"checkbox":if(n.constructor===Boolean)n?(this.setAttribute("checked",!0),this.checked=!0):(this.removeAttribute("checked"),this.checked=!1);else throw new Error(["You must pass boolean to assign to checkbox or radio."]);break;default:n.toString()==n&&(this.value=n.htmlDecode())}break;case"textarea":(n||n==="")&&(this.value=n)}});Object.stringify===undefined&&(Object.stringify=function(n){var t="",i="";return Array.prototype.forEach.call(JSON.stringify(n),function(n){switch(n){case"{":i+="\t";t+="{\n"+i;break;case"}":i=i.slice(0,i.length-1);t+="\n";t+=i;t+="}";break;case",":t+=",\n"+i;break;default:t+=n}}),t});document.fragmentFromHtmlString===undefined&&(document.fragmentFromString=function(n){return document.createRange().createContextualFragment(n)});HTMLElement.prototype.removeChildren===undefined&&(HTMLElement.prototype.removeChildren=function(){while(this.firstChild)this.removeChild(this.firstChild);return this});Element.prototype.addClassName=function(n){return this.classList.add(n),this};Element.prototype.removeClassName=function(n){return this.classList.remove(n),this};Element.prototype.hasClassName=function(n){return this.classList.contains(n)};Element.prototype.toggleClassName=function(n){return this.classList.toggle(n)};Element.prototype.getStyle=function(n){return this.currentStyle?this.currentStyle[n]:document.defaultView.getComputedStyle(this,null).getPropertyValue(n)};var $Element=function(n,t){var t=t||{},i=document.createElement(n);for(attrName in t)i.setAttribute(attrName,t[attrName]);return i};Element.prototype.update=function(n){return n&&typeof n=="object"?(this.innerHTML="",this.appendChild(n)):this.innerHTML=n,this};Date.prototype.isBefore||(Date.prototype.isBefore=function(n){return this<n});Date.calculateUTCTimePeriod||(Date.calculateUTCTimePeriodByMinutes=function(n,t){var u=!n,f=u?(new Date).getTimezoneOffset():0,i=n?new Date(n.indexOf("Z")>-1?n:n+"Z"):new Date,r={year:i.getUTCFullYear(),month:i.getUTCMonth(),date:i.getUTCDate(),hours:i.getUTCHours(),minutes:i.getUTCMinutes(),seconds:i.getUTCSeconds()};return r.minutes+=t|0,r.minutes+=-f,new Date(this.UTC.apply(this,Object.keys(r).map(function(n){return r[n]}))).toISOString()});Date.UTC.now||(Date.UTC.now=function(){return new Date(Date.UTC.apply(null,function(){var n=new Date;return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()]}()))})